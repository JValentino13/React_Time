<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bab 2 - JavaScript ES6 untuk React</title>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
  <h1>Bab 2 - JavaScript (ES6) untuk React</h1>
  <pre id="output"></pre>
</body>
</html>
  <script type="text/babel">
    const out = document.getElementById("output");

    function log(msg) {
      out.innerHTML += msg + "\\n";
    }

    // let vs var
    var foo = "Belajar ECMAScript 6";
    let bar = "Belajar React";
    console.log("var foo: " + foo);
    console.log("let bar: " + bar);

    // const
    const nama = "React";
    console.log("const nama: " + nama);

    // template string
    let user = "Valen";
    console.log(`Hello, ${user}!`);

    // conditional operator
    let nilai = 80;
    let hasil = nilai > 70 ? "Lulus" : "Gagal";
    console.log("Ternary: " + hasil);

    // short circuit conditionals
    let isLogin = true;
    isLogin && console.log("User sudah login");

    // arrow function
    const tambah = (a, b) => a + b;
    console.log("Arrow function 2+3 = " + tambah(2, 3));

    // function sebagai first-class citizen
    function kali(x) { return x * 2; }
    function proses(fn, angka) { return fn(angka); }
    console.log("First-class: " + proses(kali, 5));

    // class dan object
    class Person {
      constructor(nama, umur) {
        this.nama = nama;
        this.umur = umur;
      }
      sapa() {
        return `Halo, nama saya ${this.nama}, umur ${this.umur}`;
      }
    }
    const p1 = new Person("Jonatan", 20);
    console.log(p1.sapa());

    // destructuring
    const person = { nama: "Stefanus", umur: 22 };
    const { nama: n, umur } = person;
    console.log(`Destructuring: ${n}, ${umur}`);

    // spread operator
    const arr1 = [1, 2, 3];
    const arr2 = [...arr1, 4, 5];
    console.log("Spread: " + arr2.join(", "));

    // rest parameter
    function jumlahkan(...angka) {
      return angka.reduce((a, b) => a + b, 0);
    }
    console.log("Rest parameter sum: " + jumlahkan(1,2,3,4));

    // array method map
    const angka = [1,2,3];
    const kuadrat = angka.map(x => x*x);
    console.log("Map kuadrat: " + kuadrat.join(", "));

    // Promise
    const getData = () => new Promise(resolve => resolve("Selesai"));
    getData().then(res => console.log("Promise: " + res));

    // async/await
    async function loadData() {
      const data = await getData();
      console.log("Async/Await: " + data);
    }
    loadData();

    // module (contoh sederhana)
    console.log("Module: biasanya pakai export/import antar file (tidak ditunjukkan di sini)");
  </script>
